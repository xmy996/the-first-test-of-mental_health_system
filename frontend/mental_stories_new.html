<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>心社区 - 心理健康支持平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    
    <!-- Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5',
                        secondary: '#10B981',
                        accent: '#8B5CF6',
                        neutral: '#6B7280',
                        light: '#F3F4F6',
                        dark: '#1F2937'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <!-- 自定义样式 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            }
            .bg-gradient-custom {
                background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            }
            .modal-enter {
                animation: fadeIn 0.3s ease-out;
            }
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            .story-paragraph {
                opacity: 0;
                transform: translateY(20px);
                transition: opacity 0.5s ease, transform 0.5s ease;
            }
            .story-paragraph.active {
                opacity: 1;
                transform: translateY(0);
            }
            .category-btn.active {
                background-color: theme('colors.primary');
                color: white;
            }
        }
    </style>
<style>

    /* 全局样式重置 */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    /* 全局颜色变量 */
    :root {
        --primary-color: #6366f1;
        --secondary-color: #8b5cf6;
        --text-primary: #1e293b;
        --text-secondary: #475569;
        --bg-primary: #ffffff;
        --bg-secondary: #f8fafc;
        --border-color: #e2e8f0;
    }
    
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        line-height: 1.6;
        color: var(--text-primary);
        background-color: var(--bg-primary);
    }
    
    /* 统一按钮样式 */
    button {
        font-family: inherit;
        cursor: pointer;
        transition: all 0.3s ease;
        border: none;
        outline: none;
    }
    
    /* 主按钮样式 - 注册按钮 */
    .btn-primary {
        background-color: var(--secondary-color);
        color: white;
        border-radius: 8px;
        padding: 8px 16px;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
    }
    
    .btn-primary:hover {
        background-color: #7c3aed;
        transform: translateY(-1px);
        box-shadow: 0 4px 6px -1px rgba(139, 92, 246, 0.2);
    }
    
    /* 次要按钮样式 - 登录按钮 */
    .btn-secondary {
        background-color: transparent;
        color: var(--primary-color);
        border: 1px solid var(--primary-color);
        border-radius: 8px;
        padding: 8px 16px;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
    }
    
    .btn-secondary:hover {
        background-color: rgba(99, 102, 241, 0.05);
        transform: translateY(-1px);
    }
    
    /* 导航栏样式 */
    nav {
        background-color: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid var(--border-color);
    }
    
    /* 响应式设计 */
    @media (max-width: 768px) {
        .btn-primary,
        .btn-secondary {
            padding: 6px 12px;
            font-size: 0.875rem;
        }
    }
    
    /* 卡片样式 */
    .card {
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        padding: 1.5rem;
    }
    
    /* 输入框样式 */
    input,
    textarea,
    select {
        font-family: inherit;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        padding: 8px 12px;
        transition: border-color 0.3s ease;
    }
    
    input:focus,
    textarea:focus,
    select:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }

</style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- 导航栏 -->
    <nav id="main-nav" class="bg-white shadow-md fixed w-full z-40 transition-all duration-300">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="index.html" class="flex items-center">
                        <span class="flex items-center justify-center w-8 h-8 rounded-full bg-purple-500 text-white mr-2">
    <i class="fa fa-heart"></i>
</span><span class="text-lg font-medium">心社区</span>
                    </a>
                </div>
                
                <!-- 桌面端导航 -->
                <div class="hidden md:flex items-center space-x-6">
                    <a href="index.html" class="text-gray-700 hover:text-primary transition-colors">首页</a>
                    <a href="psychology_test.html" class="text-gray-700 hover:text-primary transition-colors">心理测评</a>
                    <a href="counseling_service.html" class="text-gray-700 hover:text-primary transition-colors">咨询服务</a>
                    <a href="group_activities.html" class="text-gray-700 hover:text-primary transition-colors">团体活动</a>
                    <a href="relaxation_experience.html" class="text-gray-700 hover:text-primary transition-colors">放松体验</a>
                    
                    <!-- 更多服务下拉菜单 -->
                    <div class="relative group">
                        <button class="flex items-center text-gray-700 hover:text-primary transition-colors">
                            更多服务
                            <i class="fa fa-angle-down ml-1"></i>
                        </button>
                        <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50">
                            <a href="cure_hole.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">治愈树洞</a>
                            <a href="sandbox_simulation.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">沙盘模拟</a>
                            <a href="mental_resources.html" class="block px-4 py-2 text-sm text-primary font-medium hover:bg-gray-100">心理资源</a>
                            <a href="mental_games.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">心理游戏</a>
                            <a href="psychology_experiments.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">心理实验</a>
                        </div>
                    </div>
                </div>
                
                <!-- 用户菜单/登录注册按钮 -->
                <div class="hidden md:flex items-center space-x-4">
                    <div class="relative" id="user-menu">
                        <!-- 未登录状态 -->
                        <div id="auth-buttons">
                            <a href="login.html" class="block px-4 py-3 text-primary border-2 border-primary rounded-lg hover:bg-primary/5 hover:text-primary transition-all duration-300 text-sm w-full">
                        <i class="fa fa-sign-in mr-2 w-5 text-center mr-2 w-5 text-center"></i>
                        登录
                    </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- 页面内容 -->
    <main class="pt-24 pb-16 container mx-auto px-4">
        <!-- 页面标题 -->
        <div class="text-center mb-12">
            <h1 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-dark mb-4">心理故事</h1>
            <p class="text-neutral max-w-2xl mx-auto">探索他人的心路历程，找到自己的心灵共鸣。每一个故事都是一段成长的旅程，让我们在阅读中获得治愈与力量。</p>
        </div>
        
        <!-- 背景音乐控制按钮 -->
        <div class="fixed top-24 right-6 z-30">
            <button id="bg-music-toggle" class="w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center text-primary hover:bg-gray-50 transition-all duration-300">
                <i class="fa fa-music"></i>
            </button>
        </div>
        
        <!-- 资源板块导航 -->
        <div class="flex flex-wrap justify-center gap-4 mb-12">
            <button class="section-btn px-6 py-3 bg-primary text-white rounded-full font-medium transition-all duration-300" data-section="all">全部资源</button>
            <button class="section-btn px-6 py-3 bg-white text-gray-700 rounded-full font-medium shadow-sm hover:shadow-md transition-all duration-300" data-section="stories">心理故事</button>
            <button class="section-btn px-6 py-3 bg-white text-gray-700 rounded-full font-medium shadow-sm hover:shadow-md transition-all duration-300" data-section="videos">视频课程</button>
            <button class="section-btn px-6 py-3 bg-white text-gray-700 rounded-full font-medium shadow-sm hover:shadow-md transition-all duration-300" data-section="books">推荐书籍</button>
            <button class="section-btn px-6 py-3 bg-white text-gray-700 rounded-full font-medium shadow-sm hover:shadow-md transition-all duration-300" data-section="articles">专业文章</button>
        </div>
        
        <!-- 心理故事板块 -->
        <section id="stories-section" class="mb-16">
            <!-- 故事分类筛选 -->
            <div class="flex flex-wrap gap-2 mb-8 justify-center">
                <button class="story-category-btn category-btn active px-4 py-2 rounded-full text-sm font-medium transition-colors" data-category="all">全部故事</button>
                <button class="story-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="anxiety">焦虑管理</button>
                <button class="story-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="emotion">情绪调节</button>
                <button class="story-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="relationship">人际关系</button>
                <button class="story-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="growth">个人成长</button>
                <button class="story-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="stress">压力管理</button>
                <button class="story-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="sleep">睡眠改善</button>
            </div>
            
            <!-- 故事卡片网格 -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- 故事卡片 1 -->
                <div class="story-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="anxiety">
                    <div class="relative h-48 overflow-hidden">
                        <img src="https://picsum.photos/600/400?random=1" alt="焦虑管理故事" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute top-4 left-4 bg-red-100 text-red-800 px-3 py-1 rounded-full text-xs font-medium">焦虑管理</div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center text-sm text-neutral mb-3">
                            <i class="fa fa-clock-o mr-1"></i>
                            <span class="mr-4">阅读时长: 5分钟</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>1,289</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">走出焦虑的迷雾：我的自愈之旅</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">两年前，我被诊断为广泛性焦虑障碍。那段日子就像生活在浓雾中，直到我开始实践正念冥想和认知行为疗法...</p>
                        <button class="read-story-btn px-4 py-2 bg-primary/10 text-primary rounded-lg font-medium hover:bg-primary/20 transition-colors" data-story-id="story1">阅读全文</button>
                    </div>
                </div>
                
                <!-- 故事卡片 2 -->
                <div class="story-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="emotion">
                    <div class="relative h-48 overflow-hidden">
                        <img src="https://picsum.photos/600/400?random=2" alt="情绪调节故事" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute top-4 left-4 bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs font-medium">情绪调节</div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center text-sm text-neutral mb-3">
                            <i class="fa fa-clock-o mr-1"></i>
                            <span class="mr-4">阅读时长: 4分钟</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>965</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">与情绪共舞：接纳不完美的自己</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">我曾经拼命压抑负面情绪，直到心理治疗师告诉我："情绪没有对错，它们只是我们内心的信号..."</p>
                        <button class="read-story-btn px-4 py-2 bg-primary/10 text-primary rounded-lg font-medium hover:bg-primary/20 transition-colors" data-story-id="story2">阅读全文</button>
                    </div>
                </div>
                
                <!-- 故事卡片 3 -->
                <div class="story-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="relationship">
                    <div class="relative h-48 overflow-hidden">
                        <img src="https://picsum.photos/600/400?random=3" alt="人际关系故事" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute top-4 left-4 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium">人际关系</div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center text-sm text-neutral mb-3">
                            <i class="fa fa-clock-o mr-1"></i>
                            <span class="mr-4">阅读时长: 6分钟</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>1,578</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">重建边界：如何在亲密关系中保持自我</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">我的婚姻曾经因为缺乏边界而陷入危机。学习设立健康的个人边界，不仅拯救了我的关系，更让我找回了自己...</p>
                        <button class="read-story-btn px-4 py-2 bg-primary/10 text-primary rounded-lg font-medium hover:bg-primary/20 transition-colors" data-story-id="story3">阅读全文</button>
                    </div>
                </div>
                
                <!-- 故事卡片 4 -->
                <div class="story-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="growth">
                    <div class="relative h-48 overflow-hidden">
                        <img src="https://picsum.photos/600/400?random=4" alt="个人成长故事" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute top-4 left-4 bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium">个人成长</div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center text-sm text-neutral mb-3">
                            <i class="fa fa-clock-o mr-1"></i>
                            <span class="mr-4">阅读时长: 7分钟</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>2,134</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">从低谷到高峰：我的抑郁症康复之路</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">抑郁症曾让我失去生活的勇气，但通过专业治疗、药物辅助和自我关怀，我重新找回了生活的意义...</p>
                        <button class="read-story-btn px-4 py-2 bg-primary/10 text-primary rounded-lg font-medium hover:bg-primary/20 transition-colors" data-story-id="story4">阅读全文</button>
                    </div>
                </div>
                
                <!-- 故事卡片 5 -->
                <div class="story-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="stress">
                    <div class="relative h-48 overflow-hidden">
                        <img src="https://picsum.photos/600/400?random=5" alt="压力管理故事" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute top-4 left-4 bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-xs font-medium">压力管理</div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center text-sm text-neutral mb-3">
                            <i class="fa fa-clock-o mr-1"></i>
                            <span class="mr-4">阅读时长: 4分钟</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>876</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">职场压力管理：程序员的自我拯救计划</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">作为一名程序员，我曾长期处于高压状态，直到我学会了这些实用的压力管理技巧，工作效率反而提高了...</p>
                        <button class="read-story-btn px-4 py-2 bg-primary/10 text-primary rounded-lg font-medium hover:bg-primary/20 transition-colors" data-story-id="story5">阅读全文</button>
                    </div>
                </div>
                
                <!-- 故事卡片 6 -->
                <div class="story-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="sleep">
                    <div class="relative h-48 overflow-hidden">
                        <img src="https://picsum.photos/600/400?random=6" alt="睡眠改善故事" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute top-4 left-4 bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs font-medium">睡眠改善</div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center text-sm text-neutral mb-3">
                            <i class="fa fa-clock-o mr-1"></i>
                            <span class="mr-4">阅读时长: 5分钟</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>1,432</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">告别失眠：一位失眠者的100天挑战</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">失眠困扰了我五年，尝试过各种方法都无济于事。直到我开始实施这个简单的睡前仪式，生活彻底改变了...</p>
                        <button class="read-story-btn px-4 py-2 bg-primary/10 text-primary rounded-lg font-medium hover:bg-primary/20 transition-colors" data-story-id="story6">阅读全文</button>
                    </div>
                </div>
                
                <!-- 故事卡片 7 -->
                <div class="story-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="emotion">
                    <div class="relative h-48 overflow-hidden">
                        <img src="https://picsum.photos/600/400?random=7" alt="情绪调节故事" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute top-4 left-4 bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs font-medium">情绪调节</div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center text-sm text-neutral mb-3">
                            <i class="fa fa-clock-o mr-1"></i>
                            <span class="mr-4">阅读时长: 5分钟</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>1,056</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">情绪日记：记录生活中的小确幸</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">每天写下三件感恩的事，三个月后我的心态发生了惊人的变化。这个简单的习惯如何改变了我的生活...</p>
                        <button class="read-story-btn px-4 py-2 bg-primary/10 text-primary rounded-lg font-medium hover:bg-primary/20 transition-colors" data-story-id="story7">阅读全文</button>
                    </div>
                </div>
                
                <!-- 故事卡片 8 -->
                <div class="story-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="growth">
                    <div class="relative h-48 overflow-hidden">
                        <img src="https://picsum.photos/600/400?random=8" alt="个人成长故事" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute top-4 left-4 bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium">个人成长</div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center text-sm text-neutral mb-3">
                            <i class="fa fa-clock-o mr-1"></i>
                            <span class="mr-4">阅读时长: 6分钟</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>1,789</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">超越自卑：找回内在的力量</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">从小我就觉得自己不如别人，直到一次偶然的机会，我参加了自信力训练营，学会了如何接纳和欣赏自己...</p>
                        <button class="read-story-btn px-4 py-2 bg-primary/10 text-primary rounded-lg font-medium hover:bg-primary/20 transition-colors" data-story-id="story8">阅读全文</button>
                    </div>
                </div>
                
                <!-- 故事卡片 9 -->
                <div class="story-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="relationship">
                    <div class="relative h-48 overflow-hidden">
                        <img src="https://picsum.photos/600/400?random=9" alt="人际关系故事" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute top-4 left-4 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium">人际关系</div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center text-sm text-neutral mb-3">
                            <i class="fa fa-clock-o mr-1"></i>
                            <span class="mr-4">阅读时长: 5分钟</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>1,234</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">非暴力沟通：修复破裂的亲子关系</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">与青春期的孩子沟通曾让我感到绝望，直到我学习了非暴力沟通的技巧，我们的关系才开始慢慢修复...</p>
                        <button class="read-story-btn px-4 py-2 bg-primary/10 text-primary rounded-lg font-medium hover:bg-primary/20 transition-colors" data-story-id="story9">阅读全文</button>
                    </div>
                </div>
            </div>
            
            <!-- 加载更多按钮 -->
            <div class="text-center mt-12">
                <button id="load-more-stories" class="px-6 py-3 bg-white border border-primary text-primary rounded-full font-medium hover:bg-primary/5 transition-colors">
                    加载更多故事
                    <i class="fa fa-angle-down ml-1"></i>
                </button>
            </div>
        </section>
        
        <!-- 精选视频课程 -->
        <section id="videos-section" class="mb-16 hidden">
            <h2 class="text-2xl font-bold text-dark mb-8 text-center">精选视频课程</h2>
            
            <!-- 视频分类筛选 -->
            <div class="flex flex-wrap gap-2 mb-8 justify-center">
                <button class="video-category-btn category-btn active px-4 py-2 rounded-full text-sm font-medium transition-colors" data-category="all">全部课程</button>
                <button class="video-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="meditation">正念冥想</button>
                <button class="video-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="cbt">认知行为</button>
                <button class="video-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="stress">压力管理</button>
            </div>
            
            <!-- 视频卡片网格 -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- 视频课程卡片 1 -->
                <div class="video-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="meditation">
                    <div class="relative h-48 overflow-hidden">
                        <img src="images/mindfulness_meditation_cover.svg" alt="正念冥想基础" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute inset-0 flex items-center justify-center bg-black/30">
                            <button class="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center text-primary hover:bg-white transition-colors">
                                <i class="fa fa-play text-xl"></i>
                            </button>
                        </div>
                        <div class="absolute top-4 left-4 bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium">正念冥想</div>
                        <div class="absolute bottom-4 right-4 bg-black/60 text-white px-2 py-1 rounded text-xs">15:30</div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-dark mb-3">正念冥想基础：从呼吸开始</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">本课程将引导初学者掌握正念冥想的基本技巧，通过专注呼吸来培养当下觉知，减轻压力和焦虑...</p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <img src="https://picsum.photos/32/32?random=101" alt="讲师头像" class="w-8 h-8 rounded-full mr-2">
                                <span class="text-sm text-neutral">李明博士</span>
                            </div>
                            <span class="text-sm text-primary font-medium">初级</span>
                        </div>
                    </div>
                </div>
                
                <!-- 视频课程卡片 2 -->
                <div class="video-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="cbt">
                    <div class="relative h-48 overflow-hidden">
                        <img src="images/emotion_management_cover.svg" alt="认知行为疗法" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute inset-0 flex items-center justify-center bg-black/30">
                            <button class="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center text-primary hover:bg-white transition-colors">
                                <i class="fa fa-play text-xl"></i>
                            </button>
                        </div>
                        <div class="absolute top-4 left-4 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium">认知行为</div>
                        <div class="absolute bottom-4 right-4 bg-black/60 text-white px-2 py-1 rounded text-xs">22:45</div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-dark mb-3">认知行为疗法：改变消极思维</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">学习识别和挑战消极思维模式，用更健康、更现实的思维方式替代，从而改善情绪和行为...</p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <img src="https://picsum.photos/32/32?random=102" alt="讲师头像" class="w-8 h-8 rounded-full mr-2">
                                <span class="text-sm text-neutral">张华教授</span>
                            </div>
                            <span class="text-sm text-secondary font-medium">中级</span>
                        </div>
                    </div>
                </div>
                
                <!-- 视频课程卡片 3 -->
                <div class="video-card card-hover bg-white rounded-xl overflow-hidden shadow-md" data-category="stress">
                    <div class="relative h-48 overflow-hidden">
                        <img src="images/work_life_balance_cover.svg" alt="职场压力管理" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute inset-0 flex items-center justify-center bg-black/30">
                            <button class="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center text-primary hover:bg-white transition-colors">
                                <i class="fa fa-play text-xl"></i>
                            </button>
                        </div>
                        <div class="absolute top-4 left-4 bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-xs font-medium">压力管理</div>
                        <div class="absolute bottom-4 right-4 bg-black/60 text-white px-2 py-1 rounded text-xs">18:20</div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-dark mb-3">职场压力管理：高效工作与生活平衡</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">探索职场压力的来源，学习时间管理、任务优先级排序和自我照顾的实用技巧，实现工作与生活的平衡...</p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <img src="https://picsum.photos/32/32?random=103" alt="讲师头像" class="w-8 h-8 rounded-full mr-2">
                                <span class="text-sm text-neutral">王静心理咨询师</span>
                            </div>
                            <span class="text-sm text-primary font-medium">初级</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 推荐书籍 -->
        <section id="books-section" class="mb-16 hidden">
            <h2 class="text-2xl font-bold text-dark mb-8 text-center">推荐书籍</h2>
            
            <!-- 书籍分类筛选 -->
            <div class="flex flex-wrap gap-2 mb-8 justify-center">
                <button class="book-category-btn category-btn active px-4 py-2 rounded-full text-sm font-medium transition-colors" data-category="all">全部书籍</button>
                <button class="book-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="psychology">心理学</button>
                <button class="book-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="selfhelp">自我成长</button>
                <button class="book-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="meditation">冥想正念</button>
            </div>
            
            <!-- 书籍卡片网格 -->
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- 书籍卡片 1 -->
                <div class="book-card card-hover bg-white rounded-xl overflow-hidden shadow-md flex flex-col" data-category="psychology">
                    <div class="relative h-64 flex-grow">
                        <img src="https://picsum.photos/300/450?random=20" alt="书籍封面" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                    </div>
                    <div class="p-4">
                        <h3 class="text-lg font-bold text-dark mb-1 line-clamp-1">被讨厌的勇气</h3>
                        <p class="text-sm text-neutral mb-2">岸见一郎</p>
                        <div class="flex items-center text-yellow-500">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star-half-o"></i>
                            <span class="ml-1 text-xs text-neutral">(4.5)</span>
                        </div>
                    </div>
                </div>
                
                <!-- 书籍卡片 2 -->
                <div class="book-card card-hover bg-white rounded-xl overflow-hidden shadow-md flex flex-col" data-category="selfhelp">
                    <div class="relative h-64 flex-grow">
                        <img src="https://picsum.photos/300/450?random=21" alt="书籍封面" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                    </div>
                    <div class="p-4">
                        <h3 class="text-lg font-bold text-dark mb-1 line-clamp-1">原子习惯</h3>
                        <p class="text-sm text-neutral mb-2">詹姆斯·克利尔</p>
                        <div class="flex items-center text-yellow-500">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <span class="ml-1 text-xs text-neutral">(5.0)</span>
                        </div>
                    </div>
                </div>
                
                <!-- 书籍卡片 3 -->
                <div class="book-card card-hover bg-white rounded-xl overflow-hidden shadow-md flex flex-col" data-category="meditation">
                    <div class="relative h-64 flex-grow">
                        <img src="https://picsum.photos/300/450?random=22" alt="书籍封面" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                    </div>
                    <div class="p-4">
                        <h3 class="text-lg font-bold text-dark mb-1 line-clamp-1">正念：此刻是一枝花</h3>
                        <p class="text-sm text-neutral mb-2">乔恩·卡巴金</p>
                        <div class="flex items-center text-yellow-500">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star-o"></i>
                            <span class="ml-1 text-xs text-neutral">(4.0)</span>
                        </div>
                    </div>
                </div>
                
                <!-- 书籍卡片 4 -->
                <div class="book-card card-hover bg-white rounded-xl overflow-hidden shadow-md flex flex-col" data-category="psychology">
                    <div class="relative h-64 flex-grow">
                        <img src="https://picsum.photos/300/450?random=23" alt="书籍封面" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                    </div>
                    <div class="p-4">
                        <h3 class="text-lg font-bold text-dark mb-1 line-clamp-1">心理学与生活</h3>
                        <p class="text-sm text-neutral mb-2">理查德·格里格</p>
                        <div class="flex items-center text-yellow-500">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star-half-o"></i>
                            <span class="ml-1 text-xs text-neutral">(4.7)</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 专业文章 -->
        <section id="articles-section" class="mb-16 hidden">
            <h2 class="text-2xl font-bold text-dark mb-8 text-center">专业文章</h2>
            
            <!-- 文章分类筛选 -->
            <div class="flex flex-wrap gap-2 mb-8 justify-center">
                <button class="article-category-btn category-btn active px-4 py-2 rounded-full text-sm font-medium transition-colors" data-category="all">全部文章</button>
                <button class="article-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="research">研究前沿</button>
                <button class="article-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="guidance">实践指南</button>
                <button class="article-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-category="news">行业动态</button>
            </div>
            
            <!-- 文章列表 -->
            <div class="space-y-6">
                <!-- 文章项 1 -->
                <div class="article-card card-hover bg-white rounded-xl overflow-hidden shadow-md flex flex-col md:flex-row" data-category="research">
                    <div class="md:w-1/4 h-48 md:h-auto">
                        <img src="https://picsum.photos/400/300?random=30" alt="文章图片" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                    </div>
                    <div class="p-6 md:w-3/4">
                        <div class="flex items-center text-sm text-neutral mb-2">
                            <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs font-medium mr-3">研究前沿</span>
                            <i class="fa fa-calendar-o mr-1"></i>
                            <span>2023-05-12</span>
                            <span class="mx-2">·</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>2,345</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">正念冥想对大脑结构的影响：最新研究发现</h3>
                        <p class="text-gray-600 mb-4 line-clamp-2 md:line-clamp-3">最新的神经科学研究表明，长期坚持正念冥想可以改变大脑的结构和功能，特别是在海马体、前额叶皮层和杏仁核等与情绪调节和认知功能相关的区域...</p>
                        <a href="#" class="inline-flex items-center text-primary font-medium hover:text-primary/80 transition-colors">
                            阅读全文
                            <i class="fa fa-long-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
                
                <!-- 文章项 2 -->
                <div class="article-card card-hover bg-white rounded-xl overflow-hidden shadow-md flex flex-col md:flex-row" data-category="guidance">
                    <div class="md:w-1/4 h-48 md:h-auto">
                        <img src="https://picsum.photos/400/300?random=31" alt="文章图片" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                    </div>
                    <div class="p-6 md:w-3/4">
                        <div class="flex items-center text-sm text-neutral mb-2">
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium mr-3">实践指南</span>
                            <i class="fa fa-calendar-o mr-1"></i>
                            <span>2023-04-28</span>
                            <span class="mx-2">·</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>1,876</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">如何建立健康的生活习惯：心理学家的实用建议</h3>
                        <p class="text-gray-600 mb-4 line-clamp-2 md:line-clamp-3">建立和维持健康的生活习惯对心理健康至关重要。本文总结了心理学家推荐的实用策略，帮助你逐步改变不良习惯，培养积极向上的生活方式...</p>
                        <a href="#" class="inline-flex items-center text-primary font-medium hover:text-primary/80 transition-colors">
                            阅读全文
                            <i class="fa fa-long-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
                
                <!-- 文章项 3 -->
                <div class="article-card card-hover bg-white rounded-xl overflow-hidden shadow-md flex flex-col md:flex-row" data-category="news">
                    <div class="md:w-1/4 h-48 md:h-auto">
                        <img src="https://picsum.photos/400/300?random=32" alt="文章图片" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                    </div>
                    <div class="p-6 md:w-3/4">
                        <div class="flex items-center text-sm text-neutral mb-2">
                            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium mr-3">行业动态</span>
                            <i class="fa fa-calendar-o mr-1"></i>
                            <span>2023-05-05</span>
                            <span class="mx-2">·</span>
                            <i class="fa fa-eye mr-1"></i>
                            <span>1,234</span>
                        </div>
                        <h3 class="text-xl font-bold text-dark mb-3">数字疗法：心理健康领域的新兴趋势</h3>
                        <p class="text-gray-600 mb-4 line-clamp-2 md:line-clamp-3">随着数字技术的发展，基于应用程序和在线平台的心理干预方法正在兴起。本文探讨了数字疗法的优势、局限性以及未来发展方向...</p>
                        <a href="#" class="inline-flex items-center text-primary font-medium hover:text-primary/80 transition-colors">
                            阅读全文
                            <i class="fa fa-long-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- 故事阅读模态框 -->
    <div id="story-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/70 opacity-0 invisible transition-all duration-300">
        <div class="bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col">
            <!-- 模态框头部 -->
            <div class="p-6 border-b flex justify-between items-center">
                <h3 id="story-modal-title" class="text-xl font-bold text-dark"></h3>
                <button id="close-story-modal" class="text-gray-500 hover:text-gray-700 transition-colors">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- 模态框内容 -->
            <div id="story-modal-content" class="p-6 overflow-y-auto flex-grow">
                <!-- 故事内容将通过JavaScript动态加载 -->
                <div id="story-paragraphs" class="space-y-6">
                    <!-- 段落将动态插入 -->
                </div>
            </div>
            
            <!-- 模态框底部 -->
            <div class="p-6 border-t flex justify-between items-center">
                <button id="prev-paragraph-btn" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors" disabled>
                    <i class="fa fa-angle-left mr-1"></i>
                    上一段
                </button>
                <div id="paragraph-indicator" class="text-sm text-neutral">
                    <span id="current-paragraph">1</span>/<span id="total-paragraphs">0</span>
                </div>
                <button id="next-paragraph-btn" class="px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-colors">
                    下一段
                    <i class="fa fa-angle-right ml-1"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- 页脚 -->
    <!-- 统一页脚组件 -->
<footer class="bg-[#1e293b] text-white py-4">
    <div class="container mx-auto px-4">
        <div class="flex justify-between items-center">
            <!-- 左侧Logo和文字 -->
            <div class="flex items-center space-x-2">
                <div class="w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white">
                    <i class="fa fa-heart"></i>
                </div>
                <span class="text-white">心社区</span>
            </div>
            
            <!-- 中间版权信息 -->
            <div class="text-center">
                <p class="text-white">© 2025 心社区心理健康支持中心. 保留所有权利.</p>
            </div>
            
            <!-- 右侧图标 -->
            <div class="flex space-x-4">
                <a href="#" class="text-white/70 hover:text-white transition-colors">
                    <i class="fa fa-weixin"></i>
                </a>
                <a href="#" class="text-white/70 hover:text-white transition-colors">
                    <i class="fa fa-weibo"></i>
                </a>
                <a href="#" class="text-white/70 hover:text-white transition-colors">
                    <i class="fa fa-bell"></i>
                </a>
            </div>
        </div>
    </div>
</footer>
    
    <!-- AI助手容器 -->
    <div id="ai-assistant-container" class="fixed bottom-6 right-6 z-50">
        <!-- AI助手启动按钮 -->
        <button id="ai-assistant-btn" class="w-14 h-14 rounded-full bg-gradient-to-br from-primary to-indigo-600 text-white shadow-lg flex items-center justify-center hover:from-indigo-600 hover:to-indigo-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-primary/50 animate-pulse">
            <i class="fa fa-comments text-xl"></i>
        </button>
    </div>
    
    <!-- 故事数据 -->
    <script>
        // 故事内容数据
        const storiesData = {
            story1: {
                title: "走出焦虑的迷雾：我的自愈之旅",
                paragraphs: [
                    "两年前，我被诊断为广泛性焦虑障碍。那段日子就像生活在浓雾中，每一天都在恐惧和不安中度过。",
                    "最初的症状是持续性的心跳加速、呼吸急促，甚至在最普通的日常活动中也会突然发作恐慌。我开始回避社交场合，减少外出，渐渐地把自己封闭起来。",
                    "在家人的鼓励下，我开始寻求专业帮助。心理治疗师告诉我，焦虑并不可怕，它是大脑的一种自然反应，只是我的大脑对威胁的敏感度被调高了。",
                    "治疗师教我练习正念冥想，这是我康复过程中最重要的工具之一。通过专注于呼吸和当下的感受，我学会了观察焦虑而不被它控制。",
                    "认知行为疗法（CBT）也帮助我识别和挑战那些导致焦虑的消极思维模式。我开始记录自己的想法，分析它们的合理性，并尝试用更现实、更积极的思维方式替代。",
                    "康复是一个漫长的过程，有起有伏。但随着时间推移，我发现自己能够更好地应对生活中的压力和挑战。现在，我已经可以正常工作和社交，甚至能够享受生活中的美好时刻。",
                    "我想告诉所有正在经历焦虑的人：不要独自承受，寻求帮助是勇敢的表现。焦虑是可以被管理的，你值得拥有平静和幸福的生活。"
                ]
            },
            story2: {
                title: "与情绪共舞：接纳不完美的自己",
                paragraphs: [
                    "我曾经拼命压抑负面情绪，认为生气、悲伤、恐惧这些情绪是软弱的表现。我总是试图表现得坚强、乐观，无论内心多么痛苦。",
                    "直到有一天，我的心理治疗师告诉我：'情绪没有对错，它们只是我们内心的信号。'这句话像一道光，照亮了我长期以来对自己的误解。",
                    "治疗师引导我开始情绪日记练习。每天记录自己的情绪变化，探索情绪背后的想法和需求。通过这种方式，我逐渐学会了识别和命名自己的情绪。",
                    "接纳情绪并不意味着被情绪控制。相反，当我们允许自己感受情绪时，它们往往会更快地流过我们。就像海浪一样，情绪有起有落，而我们的本质是那个始终存在的观察者。",
                    "现在，我学会了与情绪共舞。当愤怒出现时，我不再压抑它，而是尝试理解它想告诉我什么；当悲伤来访时，我给自己空间哭泣和悲伤。",
                    "这个过程让我变得更加真实和完整。我不再追求完美的情绪状态，而是学会了在各种情绪中找到平衡和宁静。",
                    "我想对那些还在与情绪斗争的人说：你的所有情绪都是有价值的，它们是你内心世界的信使。学会倾听它们，你会发现一个更丰富、更真实的自己。"
                ]
            },
            // 其他故事数据可以类似添加
            story3: {
                title: "重建边界：如何在亲密关系中保持自我",
                paragraphs: [
                    "我的婚姻曾经因为缺乏边界而陷入危机。我总是优先考虑伴侣的需求，忽略自己的感受和需要，直到有一天我意识到自己已经迷失了自我。",
                    "在心理咨询中，我第一次听说了'个人边界'这个概念。边界不是用来疏远他人，而是用来保护我们的能量和真实性。",
                    "建立边界是一个渐进的过程。我开始从小事做起，比如拒绝我不想做的事情，表达我真实的感受和想法，而不是总是迁就他人。",
                    "起初，这些改变引起了一些冲突和误解。但随着时间推移，我的伴侣开始理解和尊重我的边界，我们的关系反而变得更加健康和真实。",
                    "现在，我明白了在亲密关系中保持自我的重要性。只有当我们尊重自己的边界时，我们才能真正地爱他人，也接受他人的爱。",
                    "如果你也在为边界问题困扰，记住：设定边界是一种自我关爱，而不是自私。健康的边界是健康关系的基础。"
                ]
            },
            story4: {
                title: "从低谷到希望：抑郁后的重生",
                paragraphs: [
                    "抑郁就像一片乌云，笼罩了我整整一年。我失去了对生活的兴趣，每天都感到疲惫和绝望，甚至起床这样简单的事情都变得困难重重。",
                    "我记得那段时间最常说的一句话是'我什么都做不了'。自我价值感降到了谷底，我觉得自己是家人的负担，是社会的累赘。",
                    "转折点出现在我决定寻求专业帮助的那天。我的心理医生告诉我，抑郁不是我的错，也不是我的性格缺陷，它是一种可以治疗的疾病。",
                    "药物治疗帮助我稳定了情绪，而认知行为疗法教会我挑战那些消极的自动思维。我开始从小目标开始，每天完成一件简单的事情，慢慢重建自信。",
                    "家人和朋友的支持也至关重要。他们的耐心、理解和无条件的爱给了我坚持治疗的勇气。",
                    "现在，我已经走出了抑郁的阴影。虽然偶尔还会有情绪波动，但我已经学会了如何应对。这段经历让我变得更加坚韧，也让我对生活有了更深的理解和感激。",
                    "如果你正在经历抑郁，请记住：你并不孤单，这种感觉不会永远持续下去。寻求帮助是勇敢的一步，也是走向康复的开始。"
                ]
            },
            story5: {
                title: "职场压力管理：程序员的自我拯救计划",
                paragraphs: [
                    "作为一名程序员，我曾长期处于高压状态。项目 deadline 的临近、复杂问题的挑战、长时间的加班，让我感到身心俱疲。",
                    "最糟糕的时候，我开始出现睡眠问题、注意力不集中、情绪波动等症状。我的工作效率不仅没有提高，反而因为压力过大而下降。",
                    "意识到问题的严重性后，我开始寻找压力管理的方法。我参加了公司组织的压力管理工作坊，阅读了相关书籍，并尝试了各种技巧。",
                    "时间管理是我学到的第一个重要技能。我开始使用番茄工作法，每工作25分钟就休息5分钟，这大大提高了我的专注度和工作效率。",
                    "我还学会了设定合理的边界。我不再接受所有额外的工作请求，而是学会了优雅地说'不'，并优先处理最重要的任务。",
                    "工作间隙的短暂放松也很重要。我会在休息时间进行简短的伸展运动、深呼吸练习，或者只是离开电脑，看看窗外的景色。",
                    "最重要的是，我开始重视工作与生活的平衡。下班后，我不再查看工作邮件，而是专注于家庭、爱好和自我照顾。",
                    "现在，我不仅工作效率提高了，而且感觉更加平衡和满足。我意识到，管理压力不是要消除所有压力，而是要学会与压力和谐共处，让它成为推动我前进的动力，而不是压垮我的负担。"
                ]
            },
            story6: {
                title: "告别失眠：一位失眠者的100天挑战",
                paragraphs: [
                    "失眠困扰了我五年。每个夜晚，我躺在床上辗转反侧，数羊、听放松音乐、尝试各种方法，却依然无法入睡。",
                    "长期的睡眠不足让我白天疲惫不堪，注意力不集中，情绪低落。我试过安眠药，但担心依赖性问题，不敢长期使用。",
                    "在一位睡眠专家的建议下，我开始实施认知行为疗法治疗失眠（CBT-I）。这是一个为期100天的挑战，包括建立规律的睡眠时间表、改善睡眠环境、调整睡前习惯等。",
                    "第一步是建立固定的睡眠-觉醒时间，即使在周末也不例外。我设定了晚上11点睡觉，早上7点起床的时间表，并严格遵守。",
                    "第二步是改善睡眠环境。我更换了舒适的床垫和枕头，安装了遮光窗帘，使用白噪音机掩盖干扰声音，让卧室成为一个理想的睡眠空间。",
                    "第三步是建立健康的睡前仪式。我避免在睡前使用电子设备，而是选择阅读纸质书籍、听轻柔的音乐或者进行简单的冥想练习。我还避免在晚上摄入咖啡因和大量食物。",
                    "过程并不容易，前几周我仍然难以入睡。但随着时间推移，我的睡眠质量逐渐改善。到了第100天，我已经能够在30分钟内入睡，并且整晚保持睡眠状态。",
                    "现在，良好的睡眠已经成为我生活中最重要的支柱之一。我想告诉所有正在经历失眠的人：不要失去希望，通过科学的方法和坚持，你一定能够找回健康的睡眠。"
                ]
            },
            story7: {
                title: "情绪日记：记录生活中的小确幸",
                paragraphs: [
                    "每天写下三件感恩的事，三个月后我的心态发生了惊人的变化。这个简单的习惯如何改变了我的生活？让我来分享一下。",
                    "一开始，我对这个练习持怀疑态度。每天找三件值得感恩的事能有什么用？但在心理治疗师的建议下，我还是决定尝试一下。",
                    "最初的几天，我发现自己很难找到特别值得感恩的事情。我只能写下一些基本的东西，比如'今天有饭吃'、'有地方住'、'有工作'。",
                    "但随着时间推移，我开始注意到生活中的小确幸：早晨的阳光、同事的微笑、美味的午餐、陌生人的善意。我开始用更积极的眼光看待生活。",
                    "一个月后，我注意到自己的情绪状态有了明显改善。我不再那么容易陷入消极情绪，而是能够更快地从负面经历中恢复过来。",
                    "两个月后，我的人际关系也开始改善。当我带着感恩的心态与人交往时，我变得更加友善和包容，也更容易感受到他人的善意。",
                    "三个月后，我已经养成了感恩的习惯，并且开始自然而然地在生活中寻找美好。我意识到，幸福不是拥有更多，而是欣赏我们已经拥有的。",
                    "现在，情绪日记已经成为我生活中不可或缺的一部分。我鼓励每个人都尝试一下这个简单而有效的练习，你可能会惊讶于它带来的变化。"
                ]
            },
            story8: {
                title: "超越自卑：找回内在的力量",
                paragraphs: [
                    "从小我就觉得自己不如别人。我羡慕那些自信、开朗、成绩好、受欢迎的同学，而我总是躲在角落里，害怕被注意到。",
                    "这种自卑感伴随着我长大，影响了我的学习、工作和人际关系。我总是低估自己的能力，不敢尝试新事物，害怕失败和被评判。",
                    "直到我参加了一个自信力训练营，我的人生才开始改变。在训练营中，我学到了很多关于自我价值和自信的知识，也认识了很多有类似经历的人。",
                    "我开始挑战那些导致自卑的负面信念。每当'我不行'、'我不够好'这样的想法出现时，我就会问自己：'有什么证据支持这个想法？有什么证据反驳它？'",
                    "我还开始关注自己的优点和成就，而不仅仅是缺点和失败。我会每天记录自己的小成就，无论多么微小。",
                    "最重要的是，我开始接受自己的不完美。没有人是完美的，每个人都有自己的优点和缺点。真正的自信不是来自于完美，而是来自于对自己的接纳和尊重。",
                    "现在，我已经能够自信地表达自己的想法和感受，勇敢地尝试新事物，也能够更好地处理批评和挫折。我知道自己并不完美，但我相信自己的价值和能力。",
                    "如果你也在与自卑感斗争，我想告诉你：你并不孤单，而且你比你想象的更强大。给自己时间和耐心，相信你也能够超越自卑，找回内在的力量。"
                ]
            },
            story9: {
                title: "非暴力沟通：修复破裂的亲子关系",
                paragraphs: [
                    "与青春期的孩子沟通曾让我感到绝望。我们之间的对话常常以争吵结束，关系变得越来越紧张。我尝试过各种方法，但都没有效果。",
                    "直到我学习了非暴力沟通（NVC），才找到了解决问题的钥匙。非暴力沟通是一种关注感受和需求的沟通方式，它帮助我们建立真诚的连接，而不是陷入评判和指责。",
                    "非暴力沟通有四个步骤：观察、感受、需求和请求。观察是指客观地描述我们看到的行为，而不做评判；感受是表达我们的情感反应；需求是识别引发这些感受的潜在需求；请求是提出具体、可行的行动建议。",
                    "一开始，我很难改变多年的沟通习惯。我经常忘记使用非暴力沟通的语言，又回到了评判和指责的模式。但我没有放弃，而是继续练习。",
                    "慢慢地，我开始能够在与孩子的对话中使用非暴力沟通。当孩子晚归时，我不再说'你总是这么晚回家，太不负责了'，而是说'你昨晚11点才回家（观察），我很担心（感受），因为我关心你的安全（需求），你能以后尽量在10点前回家吗（请求）？'",
                    "随着时间推移，我注意到我们的对话变得更加平和和有效。孩子不再那么防御，而是开始愿意表达自己的想法和感受。我们之间的关系也开始慢慢修复。",
                    "非暴力沟通不仅改善了我与孩子的关系，也改变了我与其他人的互动方式。它让我学会了更加真诚、同理地与他人连接，建立更加健康和和谐的关系。",
                    "如果你也在为沟通问题困扰，我强烈推荐你学习非暴力沟通。它可能需要一些时间和练习，但它带来的改变是值得的。记住，好的沟通不是为了赢得争论，而是为了建立连接和理解。"
                ]
            }
        };
        
        // DOM 元素
        const storyModal = document.getElementById('story-modal');
        const storyModalTitle = document.getElementById('story-modal-title');
        const storyParagraphs = document.getElementById('story-paragraphs');
        const closeStoryModal = document.getElementById('close-story-modal');
        const prevParagraphBtn = document.getElementById('prev-paragraph-btn');
        const nextParagraphBtn = document.getElementById('next-paragraph-btn');
        const currentParagraphEl = document.getElementById('current-paragraph');
        const totalParagraphsEl = document.getElementById('total-paragraphs');
        const readStoryBtns = document.querySelectorAll('.read-story-btn');
        const sectionBtns = document.querySelectorAll('.section-btn');
        const bgMusicToggle = document.getElementById('bg-music-toggle');
        
        // 当前状态
        let currentStory = null;
        let currentParagraphIndex = 0;
        let bgMusic = null;
        let isMusicPlaying = false;
        
        // 打开故事模态框
        function openStoryModal(storyId) {
            currentStory = storiesData[storyId];
            if (!currentStory) return;
            
            storyModalTitle.textContent = currentStory.title;
            storyParagraphs.innerHTML = '';
            
            // 创建段落元素
            currentStory.paragraphs.forEach((paragraph, index) => {
                const p = document.createElement('p');
                p.className = `story-paragraph ${index === 0 ? 'active' : ''}`;
                p.textContent = paragraph;
                storyParagraphs.appendChild(p);
            });
            
            currentParagraphIndex = 0;
            updateParagraphButtons();
            
            // 显示模态框
            storyModal.classList.remove('opacity-0', 'invisible');
            storyModal.classList.add('modal-enter');
            document.body.style.overflow = 'hidden';
        }
        
        // 关闭故事模态框
        function closeStoryModalFunc() {
            storyModal.classList.add('opacity-0', 'invisible');
            storyModal.classList.remove('modal-enter');
            document.body.style.overflow = '';
        }
        
        // 显示指定段落
        function showParagraph(index) {
            const paragraphs = document.querySelectorAll('.story-paragraph');
            
            if (index < 0 || index >= paragraphs.length) return;
            
            // 隐藏所有段落
            paragraphs.forEach(p => p.classList.remove('active'));
            
            // 显示当前段落
            paragraphs[index].classList.add('active');
            
            currentParagraphIndex = index;
            updateParagraphButtons();
        }
        
        // 更新段落按钮状态
        function updateParagraphButtons() {
            const totalParagraphs = currentStory ? currentStory.paragraphs.length : 0;
            
            currentParagraphEl.textContent = currentParagraphIndex + 1;
            totalParagraphsEl.textContent = totalParagraphs;
            
            prevParagraphBtn.disabled = currentParagraphIndex === 0;
            nextParagraphBtn.disabled = currentParagraphIndex === totalParagraphs - 1;
            
            // 更新按钮样式
            if (prevParagraphBtn.disabled) {
                prevParagraphBtn.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                prevParagraphBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }
            
            if (nextParagraphBtn.disabled) {
                nextParagraphBtn.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                nextParagraphBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }
        }
        
        // 切换板块
        function switchSection(section) {
            // 隐藏所有板块
            document.querySelectorAll('section[id$="-section"]').forEach(s => {
                s.classList.add('hidden');
            });
            
            // 更新按钮样式
            sectionBtns.forEach(btn => {
                btn.className = 'section-btn px-6 py-3 bg-white text-gray-700 rounded-full font-medium shadow-sm hover:shadow-md transition-all duration-300';
            });
            
            // 激活当前按钮
            const activeBtn = document.querySelector(`.section-btn[data-section="${section}"]`);
            activeBtn.className = 'section-btn px-6 py-3 bg-primary text-white rounded-full font-medium transition-all duration-300';
            
            // 显示对应板块
            if (section === 'all') {
                document.getElementById('stories-section').classList.remove('hidden');
            } else {
                document.getElementById(`${section}-section`).classList.remove('hidden');
            }
        }
        
        // 切换故事分类
        function filterStories(category) {
            const storyCards = document.querySelectorAll('.story-card');
            const storyCategoryBtns = document.querySelectorAll('.story-category-btn');
            
            // 更新按钮样式
            storyCategoryBtns.forEach(btn => {
                btn.className = 'story-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors';
            });
            
            const activeBtn = document.querySelector(`.story-category-btn[data-category="${category}"]`);
            activeBtn.className = 'story-category-btn category-btn active px-4 py-2 bg-primary text-white rounded-full text-sm font-medium transition-colors';
            
            // 过滤故事卡片
            storyCards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                    // 添加动画
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 100);
                } else {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        card.style.display = 'none';
                    }, 300);
                }
            });
        }
        
        // 切换视频分类
        function filterVideos(category) {
            const videoCards = document.querySelectorAll('.video-card');
            const videoCategoryBtns = document.querySelectorAll('.video-category-btn');
            
            // 更新按钮样式
            videoCategoryBtns.forEach(btn => {
                btn.className = 'video-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors';
            });
            
            const activeBtn = document.querySelector(`.video-category-btn[data-category="${category}"]`);
            activeBtn.className = 'video-category-btn category-btn active px-4 py-2 bg-primary text-white rounded-full text-sm font-medium transition-colors';
            
            // 过滤视频卡片
            videoCards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                    // 添加动画
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 100);
                } else {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        card.style.display = 'none';
                    }, 300);
                }
            });
        }
        
        // 切换书籍分类
        function filterBooks(category) {
            const bookCards = document.querySelectorAll('.book-card');
            const bookCategoryBtns = document.querySelectorAll('.book-category-btn');
            
            // 更新按钮样式
            bookCategoryBtns.forEach(btn => {
                btn.className = 'book-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors';
            });
            
            const activeBtn = document.querySelector(`.book-category-btn[data-category="${category}"]`);
            activeBtn.className = 'book-category-btn category-btn active px-4 py-2 bg-primary text-white rounded-full text-sm font-medium transition-colors';
            
            // 过滤书籍卡片
            bookCards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                    // 添加动画
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 100);
                } else {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        card.style.display = 'none';
                    }, 300);
                }
            });
        }
        
        // 切换文章分类
        function filterArticles(category) {
            const articleCards = document.querySelectorAll('.article-card');
            const articleCategoryBtns = document.querySelectorAll('.article-category-btn');
            
            // 更新按钮样式
            articleCategoryBtns.forEach(btn => {
                btn.className = 'article-category-btn category-btn px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors';
            });
            
            const activeBtn = document.querySelector(`.article-category-btn[data-category="${category}"]`);
            activeBtn.className = 'article-category-btn category-btn active px-4 py-2 bg-primary text-white rounded-full text-sm font-medium transition-colors';
            
            // 过滤文章卡片
            articleCards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                    // 添加动画
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 100);
                } else {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        card.style.display = 'none';
                    }, 300);
                }
            });
        }
        
        // 切换背景音乐
        function toggleBgMusic() {
            if (!bgMusic) {
                // 创建音频对象
                bgMusic = new Audio('https://example.com/background-music.mp3'); // 替换为实际的音乐URL
                bgMusic.loop = true;
                bgMusic.volume = 0.3;
            }
            
            if (isMusicPlaying) {
                bgMusic.pause();
                bgMusicToggle.innerHTML = '<i class="fa fa-music"></i>';
            } else {
                bgMusic.play().catch(e => {
                    console.error('无法播放音乐:', e);
                });
                bgMusicToggle.innerHTML = '<i class="fa fa-pause"></i>';
            }
            
            isMusicPlaying = !isMusicPlaying;
        }
        
        // 事件监听器
        readStoryBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const storyId = btn.dataset.storyId;
                openStoryModal(storyId);
            });
        });
        
        closeStoryModal.addEventListener('click', closeStoryModalFunc);
        
        prevParagraphBtn.addEventListener('click', () => {
            showParagraph(currentParagraphIndex - 1);
        });
        
        nextParagraphBtn.addEventListener('click', () => {
            showParagraph(currentParagraphIndex + 1);
        });
        
        // 板块切换事件
        sectionBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const section = btn.dataset.section;
                switchSection(section);
            });
        });
        
        // 故事分类切换事件
        document.querySelectorAll('.story-category-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const category = btn.dataset.category;
                filterStories(category);
            });
        });
        
        // 视频分类切换事件
        document.querySelectorAll('.video-category-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const category = btn.dataset.category;
                filterVideos(category);
            });
        });
        
        // 书籍分类切换事件
        document.querySelectorAll('.book-category-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const category = btn.dataset.category;
                filterBooks(category);
            });
        });
        
        // 文章分类切换事件
        document.querySelectorAll('.article-category-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const category = btn.dataset.category;
                filterArticles(category);
            });
        });
        
        bgMusicToggle.addEventListener('click', toggleBgMusic);
        
        // 点击模态框背景关闭
        storyModal.addEventListener('click', (e) => {
            if (e.target === storyModal) {
                closeStoryModalFunc();
            }
        });
        
        // 加载更多故事按钮事件
        document.getElementById('load-more-stories').addEventListener('click', function() {
            this.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i> 加载中...';
            
            // 模拟加载延迟
            setTimeout(() => {
                this.innerHTML = '没有更多故事了';
                this.disabled = true;
                this.classList.add('opacity-50', 'cursor-not-allowed');
            }, 1500);
        });
        
        // 移动端菜单切换
        document.getElementById('mobile-menu-btn').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });
        
        // 初始化导航栏
        window.addEventListener('DOMContentLoaded', () => {
            console.log('心理故事页面加载完成');
            
            // 初始化显示所有板块
            switchSection('all');
        });
    </script>
    
    <!-- 引入公共脚本 -->
    <script src="common.js"></script>
</body>
</html>
                    "建立边界不是自私，而是自我关怀的表现。它允许我们在关系中保持平衡，既亲近又独立，既相互支持又各自成长。",
                    "如果你也在为关系中的边界问题困扰，我建议你从自我探索开始，了解自己的需求和底线，然后温柔而坚定地表达出来。记住，健康的关系建立在相互尊重的基础上。"
                ]
            },
            story4: {
                title: "从低谷到高峰：我的抑郁症康复之路",
                paragraphs: [
                    "抑郁症曾让我失去生活的勇气。那段日子里，我感觉自己被困在一个深不见底的黑洞中，看不到希望，感受不到快乐。",
                    "最严重的时候，我甚至无法完成最简单的日常任务，比如起床、洗澡、吃饭。我对所有曾经感兴趣的事情都失去了兴趣，生活变得毫无意义。",
                    "在家人的坚持下，我开始接受专业治疗。心理医生诊断我为中度抑郁症，并建议我同时接受药物治疗和心理治疗。",
                    "开始服药的几周是艰难的，我经历了一些副作用，情绪也起伏不定。但随着治疗的进行，我开始一点点地感受到变化。",
                    "认知行为疗法帮助我识别和挑战那些负面的思维模式。我学会了区分想法和现实，不再被'我一文不值'、'我永远不会好起来'这样的想法所控制。",
                    "自我关怀也成为我康复过程中的重要部分。我开始关注自己的基本需求，保证充足的睡眠，健康的饮食，适度的运动，以及与支持我的人保持联系。",
                    "康复是一条漫长而曲折的道路，有进步也有退步。但现在，我已经能够重新享受生活中的小确幸，感受到阳光的温暖，听到鸟儿的歌声，品尝美食的味道。",
                    "如果你正在经历抑郁症，请记住：你并不孤单，这不是你的错，也不是你的弱点。有很多有效的治疗方法可以帮助你，你值得拥有健康和快乐的生活。"
                ]
            },
            story5: {
                title: "职场压力管理：程序员的自我拯救计划